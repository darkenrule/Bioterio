{% extends 'base.html' %}

{% block head%}
<title>Bioterio - Cruzas</title>
{% endblock %}

{% block body%}
<div class="jumbotron">
	<div class="content">
		<h2>Visor de cruzas</h2>

		<table class="table">
			<thead class="thead-dark">
				<tr>
					<th>Caja</th>
					<th>Cepa</th>
					<th>Fecha de cruza</th>					
					<th># Machos</th>					
					<th># Hembras</th>
					<th># de camadas</th>
					<th>Acciones</th>
				</tr>
			</thead>
			{%for cruza in cruzas %}
			<tr>
				<td>{{ cruza.caja }}</td>
				<td>{{ cruza.cepa }}</td>
				<td>{{ cruza.fecha_cruza.date() }}</td>				
				<td>{{ cruza.machos }}</td>
				<td>{{ cruza.hembras }}</td>
				<td>{{ cruza.camadas|length }}</td>
				<td>
					<a href="/camada/{{cruza.id}}">Ver/Agregar camada</a><br>
					<a href="/update/{{cruza.id}}">Actualizar</a>
				</td>
			</tr>
			{% endfor %}
		</table>

		<hr>

		<form action="/" method="POST">

			<div class="form-group">
				<label for="caja">Nombre de la caja</label>
				<input type="text" class="form-control" name="caja" id="caja" aria-describedby="cajaHelp" placeholder="Ingrese el nombre de la caja aquí" required>
				<small id="cajaHelp" class="form-text text-muted">Ingrese valores como A1, B2, C4</small>
			</div>

			<div class="form-group">
				<label for="cepa">Cepa</label>
				<select class="form-control" name="cepa" id="cepa" aria-describedby="cepaHelp">
					{%for cepa in cepa_list %}
					<option value="{{cepa}}">{{cepa}}</option>
					{% endfor %}
				</select>
				<small id="cepaHelp" class="form-text text-muted">Seleccione un valor de la lista</small>
			</div>

			<div class="form-group">
				<label for="fecha_cruza">Fecha de cruza</label>
				<input type="date" class="form-control" name="fecha_cruza" id="fecha_cruza" aria-describedby="fecha_cruzaHelp" required>
				<small id="fecha_cruzaHelp" class="form-text text-muted">Ingrese la fecha en formato mm/dd/yyyy o seleccionela con el control de la derecha</small>
			</div>

			<div class="form-group">
				<label for="machos">Número de machos</label>
				<input type="number" class="form-control" name="machos" id="machos" aria-describedby="machosHelp" min="0" value="0" required>
				<small id="machosHelp" class="form-text text-muted">Ingrese de forma manual o con el control de la derecha el número de machos en la cruza</small>
			</div>

			<div class="form-group">
				<label for="hembras">Número de hembras</label>
				<input type="number" class="form-control" name="hembras" id="hembras" aria-describedby="hembrasHelp" min="0" value="0" required>
				<small id="hembrasHelp" class="form-text text-muted">Ingrese de forma manual o con el control de la derecha el número de hembras en la cruza</small>
			</div>
			
			<input type="submit" value="Agregar una cruza">
		</form>

		<hr>

	</div> 
</div>



{% endblock %}

